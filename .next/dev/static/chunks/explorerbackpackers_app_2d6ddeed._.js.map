{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/bangers/explorerbackpackers/app/components/FormInput.tsx"],"sourcesContent":["\"use client\";\nimport React from 'react';\n\n// --- NEW: Define the types for the component's props ---\ntype FormInputProps = {\n  label: React.ReactNode;\n  name: string;\n  type?: 'text' | 'email' | 'tel' | 'date' | 'number' | 'time';\n  placeholder?: string;\n  value: string | number;\n  onChange?: React.ChangeEventHandler<HTMLInputElement>; // <-- THIS IS THE FIX (added '?')\n  required?: boolean;\n  min?: string | number;\n  max?: string | number;\n  readOnly?: boolean;\n};\n\n// --- Reusable Form Input (with types applied) ---\nexport const FormInput = ({ \n  label, \n  name, \n  type = 'text', \n  placeholder, \n  value, \n  onChange, // This can now be undefined\n  required = false, \n  min, \n  max, \n  readOnly = false \n}: FormInputProps) => ( // <-- Types applied here\n  <div className=\"mb-4\">\n    <label htmlFor={name} className=\"block text-sm font-medium text-gray-700 mb-1\">{label}</label>\n    <input\n      type={type}\n      id={name}\n      name={name}\n      placeholder={placeholder}\n      value={value}\n      onChange={onChange}\n      required={required}\n      min={min}\n      max={max}\n      readOnly={readOnly}\n      className={`w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 ${readOnly ? 'bg-gray-100' : ''}`}\n    />\n  </div>\n);"],"names":[],"mappings":";;;;;AAAA;;AAkBO,MAAM,YAAY,CAAC,EACxB,KAAK,EACL,IAAI,EACJ,OAAO,MAAM,EACb,WAAW,EACX,KAAK,EACL,QAAQ,EACR,WAAW,KAAK,EAChB,GAAG,EACH,GAAG,EACH,WAAW,KAAK,EACD,iBACf,oNAAC;QAAI,WAAU;;0BACb,oNAAC;gBAAM,SAAS;gBAAM,WAAU;0BAAgD;;;;;;0BAChF,oNAAC;gBACC,MAAM;gBACN,IAAI;gBACJ,MAAM;gBACN,aAAa;gBACb,OAAO;gBACP,UAAU;gBACV,UAAU;gBACV,KAAK;gBACL,KAAK;gBACL,UAAU;gBACV,WAAW,CAAC,yGAAyG,EAAE,WAAW,gBAAgB,IAAI;;;;;;;;;;;;KAzB/I"}},
    {"offset": {"line": 56, "column": 0}, "map": {"version":3,"sources":["file:///Users/bangers/explorerbackpackers/app/components/PageTitle.tsx"],"sourcesContent":["\"use client\";\nimport React, { useEffect } from 'react';\n\n// --- NEW: Define the types for the component's props ---\ntype PageTitleProps = {\n  title: string;\n};\n\n// --- Page Title Component (with types applied) ---\nexport const PageTitle = ({ title }: PageTitleProps) => {\n  useEffect(() => {\n    document.title = `${title} - Explorer Backpackers`;\n  }, [title]);\n  return null;\n};"],"names":[],"mappings":";;;;AACA;;AADA;;AASO,MAAM,YAAY,CAAC,EAAE,KAAK,EAAkB;;IACjD,IAAA,iMAAS;+BAAC;YACR,SAAS,KAAK,GAAG,GAAG,MAAM,uBAAuB,CAAC;QACpD;8BAAG;QAAC;KAAM;IACV,OAAO;AACT;GALa;KAAA"}},
    {"offset": {"line": 86, "column": 0}, "map": {"version":3,"sources":["file:///Users/bangers/explorerbackpackers/app/lib/api.ts"],"sourcesContent":["import { addDoc, collection } from \"firebase/firestore\";\n// UPDATE THIS PATH: Point to wherever you initialized your firebase app\nimport { db } from \"./firebase\"; \n\n// --- TYPES (Kept the same) ---\ntype AccommodationBookingDetails = {\n  totalCost: number;\n  firstName: string;\n  lastName: string;\n  email: string;\n  phone: string;\n  country: string;\n  estimatedArrivalTime: string;\n  note: string;\n  roomTypeId: string;\n  numberOfGuests: number;\n  checkIn: string;\n  checkOut: string;\n};\n\ntype TourBookingDetails = {\n  totalCost: number;\n  firstName: string;\n  lastName: string;\n  email: string;\n  phone: string;\n  tourName: string;\n  tourDate: string;\n  guests: number;\n  note: string;\n};\n\n// --- HELPER: Availability Check (Kept the same) ---\nexport const checkRoomAvailability = async (\n  startDate: string, \n  endDate: string, \n  adults: string | number, \n  promoCode: string\n) => {\n  const firebaseFunctionUrl = `https://us-central1-explorer-backpackers.cloudfunctions.net/checkRoomAvailability`;\n  const params = new URLSearchParams({\n    startDate: startDate,\n    endDate: endDate,\n    adults: adults.toString(),\n    promoCode: promoCode || ''\n  });\n\n  try {\n    const response = await fetch(`${firebaseFunctionUrl}?${params.toString()}`, {\n      method: 'GET',\n      headers: { 'Content-Type': 'application/json' },\n    });\n\n    if (!response.ok) {\n      const errorText = await response.text();\n      throw new Error(errorText || 'Error checking availability');\n    }\n    return await response.json();\n  } catch (error) {\n    console.error(\"Error fetching room availability:\", error);\n    throw error;\n  }\n};\n\n// --- UNIFIED PAYMENT FUNCTION ---\n// We use one function to call the backend, but separate helper wrappers below.\nasync function initiateCheckout(amount: number, bookingId: string, bookingType: 'tour' | 'accommodation') {\n  // 1. URL to your new Cloud Function\n  const url = `https://us-central1-explorer-backpackers.cloudfunctions.net/processYocoPayment`;\n\n  try {\n    // 2. Send the ID and Amount to Yoco\n    const response = await fetch(url, { \n      method: 'POST', \n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        amount: amount,\n        bookingId: bookingId,\n        bookingType: bookingType,\n        currency: 'ZAR'\n      })\n    });\n\n    if (!response.ok) {\n      const err = await response.text();\n      throw new Error(`Checkout Error: ${err}`);\n    }\n\n    // 3. Return the Yoco Redirect URL\n    const data = await response.json();\n    return data; // This object usually contains { redirectUrl: \"...\" }\n  } catch (error) {\n    console.error('Error initiating checkout:', error);\n    throw error;\n  }\n}\n\n// --- 1. PROCESS ACCOMMODATION BOOKING ---\nexport async function processYocoPayment(bookingDetails: AccommodationBookingDetails) {\n  try {\n    // A. Create the \"Pending\" Booking in Firestore\n    const docRef = await addDoc(collection(db, \"accommodation_bookings\"), {\n      ...bookingDetails,\n      status: \"Pending Payment\",\n      createdAt: new Date(),\n    });\n\n    // B. Initiate Payment with the new ID\n    return await initiateCheckout(bookingDetails.totalCost, docRef.id, 'accommodation');\n\n  } catch (error) {\n    console.error(\"Accommodation Booking Failed:\", error);\n    throw error;\n  }\n}\n\n// --- 2. PROCESS TOUR BOOKING ---\nexport async function processYocoTourPayment(tourBookingDetails: TourBookingDetails) {\n  try {\n    // A. Create the \"Pending\" Booking in Firestore\n    const docRef = await addDoc(collection(db, \"tours_bookings\"), {\n      ...tourBookingDetails,\n      status: \"Pending Payment\",\n      createdAt: new Date(),\n    });\n\n    // B. Initiate Payment with the new ID\n    return await initiateCheckout(tourBookingDetails.totalCost, docRef.id, 'tour');\n\n  } catch (error) {\n    console.error(\"Tour Booking Failed:\", error);\n    throw error;\n  }\n}"],"names":[],"mappings":";;;;;;;;AAAA;AAAA;;;;;;;;AAiCO,MAAM,wBAAwB,OACnC,WACA,SACA,QACA;IAEA,MAAM,sBAAsB,CAAC,iFAAiF,CAAC;IAC/G,MAAM,SAAS,IAAI,gBAAgB;QACjC,WAAW;QACX,SAAS;QACT,QAAQ,OAAO,QAAQ;QACvB,WAAW,aAAa;IAC1B;IAEA,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,GAAG,oBAAoB,CAAC,EAAE,OAAO,QAAQ,IAAI,EAAE;YAC1E,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;QAChD;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,YAAY,MAAM,SAAS,IAAI;YACrC,MAAM,IAAI,MAAM,aAAa;QAC/B;QACA,OAAO,MAAM,SAAS,IAAI;IAC5B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,qCAAqC;QACnD,MAAM;IACR;AACF;AAEA,mCAAmC;AACnC,+EAA+E;AAC/E,eAAe,iBAAiB,MAAc,EAAE,SAAiB,EAAE,WAAqC;IACtG,oCAAoC;IACpC,MAAM,MAAM,CAAC,8EAA8E,CAAC;IAE5F,IAAI;QACF,oCAAoC;QACpC,MAAM,WAAW,MAAM,MAAM,KAAK;YAChC,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBACnB,QAAQ;gBACR,WAAW;gBACX,aAAa;gBACb,UAAU;YACZ;QACF;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,MAAM,MAAM,SAAS,IAAI;YAC/B,MAAM,IAAI,MAAM,CAAC,gBAAgB,EAAE,KAAK;QAC1C;QAEA,kCAAkC;QAClC,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,OAAO,MAAM,sDAAsD;IACrE,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,MAAM;IACR;AACF;AAGO,eAAe,mBAAmB,cAA2C;IAClF,IAAI;QACF,+CAA+C;QAC/C,MAAM,SAAS,MAAM,IAAA,gLAAM,EAAC,IAAA,oLAAU,EAAC,IAAI,2BAA2B;YACpE,GAAG,cAAc;YACjB,QAAQ;YACR,WAAW,IAAI;QACjB;QAEA,sCAAsC;QACtC,OAAO,MAAM,iBAAiB,eAAe,SAAS,EAAE,OAAO,EAAE,EAAE;IAErE,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,iCAAiC;QAC/C,MAAM;IACR;AACF;AAGO,eAAe,uBAAuB,kBAAsC;IACjF,IAAI;QACF,+CAA+C;QAC/C,MAAM,SAAS,MAAM,IAAA,gLAAM,EAAC,IAAA,oLAAU,EAAC,IAAI,mBAAmB;YAC5D,GAAG,kBAAkB;YACrB,QAAQ;YACR,WAAW,IAAI;QACjB;QAEA,sCAAsC;QACtC,OAAO,MAAM,iBAAiB,mBAAmB,SAAS,EAAE,OAAO,EAAE,EAAE;IAEzE,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,wBAAwB;QACtC,MAAM;IACR;AACF"}},
    {"offset": {"line": 196, "column": 0}, "map": {"version":3,"sources":["file:///Users/bangers/explorerbackpackers/app/lib/utils.ts"],"sourcesContent":["import { pilanesbergNationalParkData } from '../data/pilanesbergNationalParkData';\nimport { johannesburgData } from '../data/johannesburgData';\nimport { sowetoData } from '../data/sowetoData';\nimport { pretoriaData } from '../data/pretoriaData';\nimport { capeTownData } from '../data/capeTownData';\nimport { gardenRouteData } from '../data/gardenRouteData';\nimport { krugerNationalParkData } from '../data/krugerNationalParkData';\nimport { citySightseeingData } from '../data/citySightseeingData';\nimport { transferData } from '../data/transferData';\nimport { images } from '../data/images';\n\n// --- AGGREGATE ALL TOURS ---\n// This replaces experiencesData.ts references\nexport const allExperiences = [\n  ...pilanesbergNationalParkData,\n  ...johannesburgData,\n  ...sowetoData,\n  ...pretoriaData,\n  ...capeTownData,\n  ...gardenRouteData,\n  ...krugerNationalParkData,\n  ...citySightseeingData,\n  ...transferData\n];\n\n// --- Helper to get specific tour by ID ---\nexport const getTourById = (id: string) => {\n  return allExperiences.find((tour) => tour.id === id);\n};\n\n// --- Helper to get default dates ---\nexport const getInitialDates = () => {\n  const today = new Date();\n  const tomorrow = new Date(today);\n  tomorrow.setDate(tomorrow.getDate() + 1);\n  \n  const formatDate = (date: Date) => date.toISOString().split('T')[0];\n  \n  return {\n    checkIn: formatDate(today),\n    checkOut: formatDate(tomorrow)\n  };\n};\n\n// --- Helper to calculate tour price (UPDATED FOR TIERS) ---\nexport const calculateTourPrice = (tour: any, guestCount: number, selectedTier?: any) => {\n  if (!tour || guestCount <= 0) {\n    return 0;\n  }\n\n  // 1. Check if a specific Tier (e.g. Single vs Sharing) is selected\n  if (selectedTier) {\n    return selectedTier.price * guestCount;\n  }\n\n  // 2. Check for Volume/Count based tiers (e.g. 1 pax = R1000, 2 pax = R800)\n  if (tour.pricingTiers && tour.pricingTiers.length > 0 && !tour.pricingTiers[0].type) {\n     const matchingTier = tour.pricingTiers.find(\n      (tier: any) => guestCount >= (tier.minGuests || tier.count) && guestCount <= (tier.maxGuests || tier.count)\n    );\n    \n    // If per-vehicle pricing\n    if (tour.priceType === 'per-vehicle') {\n        return matchingTier ? matchingTier.price : tour.basePrice;\n    }\n    \n    // If per-person pricing with volume discounts\n    if (matchingTier) {\n      return matchingTier.price * guestCount;\n    }\n  }\n  \n  // 3. Default Base Price calculation\n  if (tour.priceType === 'per-vehicle') {\n      return tour.basePrice;\n  }\n\n  return tour.basePrice * guestCount;\n};\n\n// --- Helper for Dynamic Hero Images ---\nexport const getHeroImageForCategory = (category: string) => {\n    switch (category) {\n        case 'Cape Town': return images.heroCapeTown; // Replace with specific Cape Town image if available\n        case 'Pilanesberg': return images.heroPilanesberg; // Replace with Pilanesberg image\n        case 'Kruger National Park': return images.heroKruger;\n        case 'Garden Route': return images.heroGardenRoute; // Replace with Garden Route image\n        case 'Johannesburg': return images.heroJohannesburg;\n        case 'Soweto': return images.heroSoweto;\n        case 'Pretoria': return images.heroPretoria;\n        case 'Restaurants': return images.heroRestaurants; // Use a food image\n        case 'Nightlife': return images.heroNightlife; // Use a party image\n        case 'Transfers': return images.heroTransfers; \n        case 'African Markets': return images.heroAfricanMarkets;\n        case 'Local Sights': return images.heroLocalSights;\n        case 'Malls': return images.heroMalls;\n        case 'CoWorking': return images.heroCoWorking;\n        case 'Art Galleries': return images.heroArtGalleries;\n        case 'Cafes': return images.heroCafes;\n        case 'Markets': return images.heroMarkets;\n        case 'Barber': return images.heroBarbers;\n        case 'Spa': return images.heroSpa;\n        case 'City Sightseeing': return images.heroCitySightSeeing;\n        default: return images.heroExperiences;\n    }\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 331, "column": 0}, "map": {"version":3,"sources":["file:///Users/bangers/explorerbackpackers/app/book/page.tsx"],"sourcesContent":["\"use client\";\nimport React, { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport { Button } from '../components/Button';\nimport { FormInput } from '../components/FormInput'; \nimport { PageTitle } from '../components/PageTitle';\nimport { images } from '../data/images';\nimport { bookingRoomData } from '../data/bookingRoomData';\nimport { checkRoomAvailability } from '../lib/api';\nimport { getInitialDates } from '../lib/utils';\n\n// --- Types ---\ntype AvailabilityMap = {\n  [key: string]: {\n    rate: number;\n    available: number;\n    name: string;\n  }\n};\n\ntype Rate = {\n  id: string;\n  label: string;\n  price: number;\n  discount: string;\n  originalPrice?: number;\n};\n\ntype RoomRateOptionsProps = {\n  room: any;\n  availability: AvailabilityMap | null;\n  searchParams: any;\n};\n\ntype RoomBookingCardProps = {\n  room: any;\n  availability: AvailabilityMap | null;\n  searchParams: any;\n};\n\ntype RateRadioOptionProps = {\n  rate: Rate;\n};\n\nexport default function BookingPage() {\n  const router = useRouter();\n  const [today, setToday] = useState(getInitialDates().checkIn);\n  \n  const [search, setSearch] = useState({\n    room: 'All',\n    guests: '1',\n    checkIn: getInitialDates().checkIn,\n    checkOut: getInitialDates().checkOut,\n    promoCode: ''\n  });\n  \n  const [availability, setAvailability] = useState<AvailabilityMap | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [selectedRate, setSelectedRate] = useState<any>(null);\n\n  const getCheckOutMin = () => {\n    const checkInDate = new Date(search.checkIn);\n    checkInDate.setDate(checkInDate.getDate() + 1); \n    return checkInDate.toISOString().split('T')[0];\n  };\n\n  const handleSearchChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\n    const { name, value } = e.target;\n    if (name === 'checkIn') {\n      const newCheckInDate = new Date(value);\n      const currentCheckOutDate = new Date(search.checkOut);\n      if (newCheckInDate >= currentCheckOutDate) {\n        const newCheckOutDate = new Date(newCheckInDate);\n        newCheckOutDate.setDate(newCheckOutDate.getDate() + 1);\n        setSearch(prev => ({ \n          ...prev, \n          checkIn: value,\n          checkOut: newCheckOutDate.toISOString().split('T')[0]\n        }));\n      } else {\n        setSearch(prev => ({ ...prev, [name]: value }));\n      }\n    } else {\n      setSearch(prev => ({ ...prev, [name]: value }));\n    }\n  };\n\n  const handleSearchSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsLoading(true);\n    setError(null);\n    setAvailability(null);\n    setSelectedRate(null);\n\n    const date1 = new Date(search.checkIn);\n    const date2 = new Date(search.checkOut);\n    if (date2 <= date1) {\n      setError(\"Check-out date must be after check-in date.\");\n      setIsLoading(false);\n      return;\n    }\n\n    try {\n      const data = await checkRoomAvailability(search.checkIn, search.checkOut, search.guests, search.promoCode);\n      const availabilityMap: AvailabilityMap = {};\n      if (Array.isArray(data)) {\n        data.forEach((room: any) => {\n          availabilityMap[room.roomTypeID.toString()] = { \n            rate: room.roomRate,\n            available: room.roomsAvailable,\n            name: room.roomTypeName,\n          };\n        });\n      }\n      setAvailability(availabilityMap);\n    } catch (err) {\n      setError('Failed to fetch room availability. Please try again.');\n      console.error(err);\n    }\n    setIsLoading(false);\n  };\n\n  const handleRateSelect = (rateData: any) => {\n    setSelectedRate(rateData);\n  };\n  \n  const handleCheckout = () => {\n    if (selectedRate) {\n      // Convert the selectedRate object to URL query parameters\n      const params = new URLSearchParams();\n      Object.entries(selectedRate).forEach(([key, value]) => {\n        if (value !== undefined && value !== null) {\n          params.append(key, String(value));\n        }\n      });\n      router.push(`/checkout?${params.toString()}`);\n    }\n  };\n\n  // --- Helper Components (Kept inside to access state/handlers) ---\n\n  const RoomRateOptions = ({ room, availability, searchParams }: RoomRateOptionsProps) => {\n    const availabilityInfo = availability ? availability[room.roomTypeId] : null;\n    const guests = parseInt(searchParams.guests, 10);\n\n    const date1 = new Date(searchParams.checkIn);\n    const date2 = new Date(searchParams.checkOut);\n    \n    if (date2 <= date1) {\n      return null;\n    }\n\n    const differenceInTime = date2.getTime() - date1.getTime();\n    const differenceInDays = Math.round(differenceInTime / (1000 * 3600 * 24));\n\n    if (!availabilityInfo || availabilityInfo.available < 1) {\n      if (availability) {\n        return <p className=\"text-red-500 p-4\">Sorry, this room is not available for these dates.</p>;\n      }\n      return null;\n    }\n\n    const totalBasePrice = availabilityInfo.rate;\n    const rates: Rate[] = []; \n    let bestAvailableRate: Rate;\n\n    if (differenceInDays >= 14) {\n      bestAvailableRate = {\n        id: '2week',\n        label: 'Long Stay (2 Weeks+)',\n        price: totalBasePrice * 0.70, \n        discount: '30% Off - 2 Week+ Stay'\n      };\n    } else if (differenceInDays >= 7) {\n      bestAvailableRate = {\n        id: '1week',\n        label: 'Long Stay (1 Week+)',\n        price: totalBasePrice * 0.75, \n        discount: '25% Off - 1 Week+ Stay'\n      };\n    } else if (differenceInDays >= 4) {\n      bestAvailableRate = {\n        id: '4day',\n        label: 'Long Stay (4 Nights+)',\n        price: totalBasePrice * 0.80, \n        discount: '20% Off - 4+ Night Stay'\n      };\n    } else {\n      bestAvailableRate = {\n        id: 'website',\n        label: 'Website Booking Discount',\n        price: totalBasePrice * 0.85, \n        discount: '15% Off - Automatic Website Deal'\n      };\n    }\n    \n    bestAvailableRate.originalPrice = totalBasePrice;\n    rates.push(bestAvailableRate);\n\n    rates.push({ \n      id: 'student', \n      label: 'Student Rate (10% Off)', \n      price: totalBasePrice * 0.90, \n      originalPrice: totalBasePrice, \n      discount: '10% Off - Student' \n    });\n    \n    rates.push({ \n      id: 'elderly', \n      label: 'Elderly Rate (15% Off)', \n      price: totalBasePrice * 0.85, \n      originalPrice: totalBasePrice, \n      discount: '15% Off - Elderly (60+)' \n    });\n    \n    const RateRadioOption = ({ rate }: RateRadioOptionProps) => {\n      const rateData = {\n        roomTypeId: room.roomTypeId,\n        roomName: room.name,\n        guests: guests,\n        checkIn: searchParams.checkIn,\n        checkOut: searchParams.checkOut,\n        totalCost: rate.price.toFixed(2),\n        discount: rate.discount,\n        nights: differenceInDays,\n      };\n      \n      const isSelected = selectedRate && \n                         selectedRate.roomTypeId === room.roomTypeId && \n                         selectedRate.discount === rate.discount;\n      \n      return (\n        <div \n          className={`border-2 rounded-lg mb-2 p-4 transition-all cursor-pointer ${isSelected ? 'border-green-600 bg-green-50 shadow-md' : 'border-gray-200 hover:bg-gray-50'}`}\n          onClick={() => handleRateSelect(rateData)}\n        >\n          <label className=\"flex items-center cursor-pointer\">\n            <input \n              type=\"radio\" \n              name={`rate_${room.id}`} \n              checked={isSelected}\n              readOnly\n              className=\"h-5 w-5 text-green-600 focus:ring-green-500 border-gray-300\" \n            />\n            <span className=\"ml-3 text-gray-800 text-sm md:text-base\">\n              <b>{rate.label}:</b> {guests} Guest(s) | <b>Total: R{rate.price.toFixed(2)}</b>\n              {rate.originalPrice && rate.price < rate.originalPrice && (\n                <span className=\"text-gray-500 line-through ml-2 text-xs md:text-sm\">R{rate.originalPrice.toFixed(2)}</span>\n              )}\n            </span>\n          </label>\n        </div>\n      );\n    };\n\n    return (\n      <div className=\"p-4 bg-gray-50 rounded-b-lg\">\n        <p className=\"text-sm font-semibold text-gray-700 mb-2\">Select a rate for {differenceInDays} night(s):</p>\n        {rates.map(rate => <RateRadioOption key={rate.id} rate={rate} />)}\n      </div>\n    );\n  };\n\n  const RoomBookingCard = ({ room, availability, searchParams }: RoomBookingCardProps) => {\n    const [currentImage, setCurrentImage] = useState(0);\n    const nextImage = () => setCurrentImage(i => (i === room.images.length - 1 ? 0 : i + 1));\n    const prevImage = () => setCurrentImage(i => (i === 0 ? room.images.length - 1 : i - 1));\n\n    const showRoom = search.room === 'All' || search.room === room.name;\n    if (!showRoom) return null;\n\n    return (\n      <div id={room.id} className=\"bg-white rounded-lg shadow-lg overflow-hidden mb-8\">\n        <div className=\"grid grid-cols-1 md:grid-cols-2\">\n          <div className=\"relative\">\n            <img src={room.images[currentImage]} alt={room.name} className=\"w-full h-[30vh] md:h-[40vh] object-cover\" />\n            <button onClick={prevImage} className=\"absolute left-2 top-1/2 -translate-y-1/2 w-[45px] h-[45px] p-[5px] text-white font-bold text-[18px] transition-all duration-[600ms] ease rounded-[5px] select-none border-none bg-black/50 disabled:opacity-20 hover:bg-green-600\">❮</button>\n            <button onClick={nextImage} className=\"absolute right-2 top-1/2 -translate-y-1/2 w-[45px] h-[45px] p-[5px] text-white font-bold text-[18px] transition-all duration-[600ms] ease rounded-[5px] select-none border-none bg-black/50 disabled:opacity-20 hover:bg-green-600\">❯</button>\n          </div>\n          <div className=\"p-6 flex flex-col justify-center\">\n            <h3 className=\"text-2xl font-extrabold text-black mb-4\">{room.name}</h3>\n            <p className=\"text-sm text-black leading-relaxed\">{room.description}</p>\n          </div>\n        </div>\n        {availability && (\n          <RoomRateOptions \n            room={room}\n            availability={availability}\n            searchParams={searchParams}\n          />\n        )}\n      </div>\n    );\n  };\n\n  // --- Main Render ---\n\n  return (\n    <>\n      <PageTitle title=\"Book Your Stay\" />\n      <header className=\"bg-white shadow-md py-4 px-5 sticky top-0 z-40\">\n        <div className=\"container mx-auto\">\n          <div className=\"flex justify-between items-center mb-4\">\n            {/* Replaced button/navigateTo with Link */}\n            <Link href=\"/\" className=\"flex items-center text-gray-700 hover:text-green-600 inline-flex\">\n              <img src={images.iconBack} alt=\"Back\" className=\"h-4 w-4 mr-2\" /> Back\n            </Link>\n            <img src={images.logo} alt=\"Logo\" className=\"h-12 md:h-15\" />\n            <div className=\"w-16\"></div>\n          </div>\n          \n          <form onSubmit={handleSearchSubmit} className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 p-4 bg-gray-100 rounded-lg\">\n            <div className=\"flex flex-col\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Room</label>\n              <select\n                name=\"room\"\n                value={search.room}\n                onChange={handleSearchChange}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 bg-white h-12\"\n              >\n                <option value=\"All\">All Rooms</option>\n                <option value=\"Female Six Bed Dorm\">Female Six Bed Dorm</option>\n                <option value=\"Female Four Bed Dorm\">Female Four Bed Dorm</option>\n                <option value=\"Mixed Eight Bed Dorm\">Mixed Eight Bed Dorm</option>\n                <option value=\"Mixed Eight Bed Dorm (Cottage)\">Mixed Eight Bed Dorm (Cottage)</option>\n                <option value=\"Private Queen Room\">Private Queen Room</option>\n              </select>\n            </div>\n\n            <div className=\"flex flex-col\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Guests</label>\n              <select\n                name=\"guests\"\n                value={search.guests}\n                onChange={handleSearchChange}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 bg-white h-12\"\n              >\n                {[1,2,3,4].map(n => <option key={n} value={n}>{n} Guest{n>1?'s':''}</option>)}\n              </select>\n            </div>\n            \n            <div className=\"flex flex-col\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Check-in</label>\n              <input \n                name=\"checkIn\" \n                type=\"date\" \n                value={search.checkIn} \n                onChange={handleSearchChange} \n                min={today} \n                className=\"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 h-12\"\n              />\n            </div>\n\n            <div className=\"flex flex-col\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Check-out</label>\n              <input \n                name=\"checkOut\" \n                type=\"date\" \n                value={search.checkOut} \n                onChange={handleSearchChange}\n                min={getCheckOutMin()} \n                className=\"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 h-12\"\n              />\n            </div>\n            \n            <div className=\"flex flex-col col-span-2 md:col-span-3 lg:col-span-1\">\n              <label className=\"block text-sm font-medium text-transparent mb-1 select-none\">Search</label>\n              <Button type=\"submit\" disabled={isLoading} className=\"w-full h-12 flex items-center justify-center text-sm font-semibold\">\n                {isLoading ? 'Checking...' : 'Show Availability'}\n              </Button>\n            </div>\n          </form>\n\n          {error && <p className=\"text-red-500 text-center mt-4\">{error}</p>}\n        </div>\n      </header>\n\n      <main className=\"bg-gray-100 pb-32 lg:pb-8\">\n        <div className=\"container mx-auto py-8 px-5\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-12 gap-8 relative\">\n            \n            {/* Room List */}\n            <div className=\"lg:col-span-9\">\n              {isLoading && (\n                <p className=\"text-center text-lg text-gray-600 p-8 bg-white rounded-lg shadow\">Loading available rooms...</p>\n              )}\n              \n              {!isLoading && !availability && (\n                <p className=\"text-center text-lg text-gray-600 p-8 bg-white rounded-lg shadow\">Please select your dates to check availability.</p>\n              )}\n\n              {!isLoading && availability && (\n                <>\n                  {bookingRoomData.map(room => (\n                    <RoomBookingCard \n                      key={room.id} \n                      room={room} \n                      availability={availability} \n                      searchParams={search}\n                    />\n                  ))}\n                  \n                  {Object.keys(availability).length === 0 && (\n                    <p className=\"text-center text-lg text-gray-600 p-8 bg-white rounded-lg shadow\">No rooms are available for the selected dates. Please try different dates.</p>\n                  )}\n                </>\n              )}\n            </div>\n            \n            {/* Desktop Sidebar (Hidden on mobile) */}\n            <aside className=\"hidden lg:block lg:col-span-3 relative\">\n              <div className=\"bg-white rounded-lg shadow-lg p-6 lg:sticky lg:top-[240px]\">\n                <h3 className=\"text-2xl font-bold text-gray-800 mb-6\">Your Reservation</h3>\n                {selectedRate ? (\n                  <div className=\"space-y-2\">\n                    <FormInput label=\"Room Selection\" name=\"roomName\" value={selectedRate.roomName} readOnly />\n                    <div className=\"grid grid-cols-2 gap-4\">\n                        <FormInput label=\"Guests\" name=\"guests\" value={selectedRate.guests} readOnly />\n                        <FormInput label=\"Nights\" name=\"nights\" value={selectedRate.nights} readOnly />\n                    </div>\n                    <div className=\"grid grid-cols-2 gap-4\">\n                        <FormInput label=\"Arrival\" name=\"checkIn\" value={selectedRate.checkIn} readOnly />\n                        <FormInput label=\"Departure\" name=\"checkOut\" value={selectedRate.checkOut} readOnly />\n                    </div>\n                    <FormInput label=\"Discount\" name=\"discount\" value={selectedRate.discount} readOnly />\n                    <FormInput label=\"Total\" name=\"totalCost\" value={`R${selectedRate.totalCost}`} readOnly />\n                    <Button onClick={handleCheckout} className=\"w-full text-sm bg-black\">Checkout</Button>\n                  </div>\n                ) : (\n                  <p className=\"text-gray-500\">Please select a room and rate to continue.</p>\n                )}\n              </div>\n            </aside>\n\n            {/* Mobile Fixed Bottom Bar (Visible only on mobile when rate selected) */}\n            {selectedRate && (\n              <div className=\"lg:hidden fixed bottom-0 left-0 right-0 bg-white shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] p-4 z-[60] border-t border-gray-200 animate-in slide-in-from-bottom duration-300\">\n                <div className=\"flex justify-between items-center\">\n                  <div>\n                    <p className=\"text-xs text-gray-500\">{selectedRate.nights} Night(s) | {selectedRate.guests} Guest(s)</p>\n                    <h4 className=\"font-bold text-gray-800 text-lg\">{selectedRate.roomName}</h4>\n                    <p className=\"font-bold text-green-600\">R{selectedRate.totalCost}</p>\n                  </div>\n                  <Button onClick={handleCheckout} className=\"px-6 py-2 text-sm bg-black\">Checkout</Button>\n                </div>\n              </div>\n            )}\n\n          </div>\n        </div>\n      </main>\n    </>\n  );\n}"],"names":[],"mappings":"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"}}]
}